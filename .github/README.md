# GitHub Actions для Go проекта

Этот проект использует GitHub Actions для автоматической проверки кода при каждом пуше и pull request.

## Workflows

### 1. Go Tests (`go-tests.yml`)
Запускает все тесты и проверки для Go кода:

- **Тестирование**: Запуск всех unit тестов
- **Покрытие**: Анализ покрытия кода тестами
- **Бенчмарки**: Запуск performance тестов
- **Форматирование**: Проверка `go fmt`
- **Статический анализ**: Запуск `go vet`
- **Множественные версии Go**: Тестирование на Go 1.21, 1.22, 1.23, 1.24

### 2. Go Lint (`go-lint.yml`)
Проверяет качество кода с помощью golangci-lint:

- **Линтинг**: Проверка стиля и качества кода
- **Безопасность**: Поиск потенциальных проблем безопасности
- **Производительность**: Анализ производительности кода
- **Стандарты**: Проверка соответствия Go стандартам

## Настройка

### Автоматический запуск
Workflows запускаются автоматически при:
- Push в ветки: `main`, `master`, `develop`
- Создание Pull Request в эти ветки

### Ручной запуск
Можно запустить workflows вручную:
1. Перейдите в раздел "Actions" на GitHub
2. Выберите нужный workflow
3. Нажмите "Run workflow"

## Требования

- Go 1.21 или выше
- GitHub repository с включенными Actions

## Локальная проверка

Перед пушем рекомендуется проверить код локально:

### Автоматическая проверка
```bash
# Запуск всех проверок одним скриптом
./scripts/check.sh
```

### Ручная проверка
```bash
# Запуск тестов
go test -v ./go-interview-tasks/tests/...

# Проверка покрытия
go test -coverprofile=coverage.out ./go-interview-tasks/tests/... ./go-interview-tasks/strings/...
go tool cover -func=coverage.out

# Запуск бенчмарков
go test -bench=. -benchmem ./go-interview-tasks/tests/...

# Форматирование кода
go fmt ./go-interview-tasks/...

# Статический анализ
go vet ./go-interview-tasks/...
```

## Уведомления

- Успешные проверки: ✅ Зеленая галочка
- Неудачные проверки: ❌ Красный крестик
- Уведомления отправляются в GitHub и по email (если настроено)

## Troubleshooting

### Тесты не проходят
1. Проверьте логи в GitHub Actions
2. Запустите тесты локально: `./scripts/check.sh`
3. Убедитесь, что все зависимости установлены

### Линтер выдает ошибки
1. Установите golangci-lint локально: `go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest`
2. Запустите: `golangci-lint run ./go-interview-tasks/`
3. Исправьте найденные проблемы

### Проблемы с версиями Go
1. Убедитесь, что используете Go 1.21+
2. Проверьте `go.mod` файл
3. Обновите Go до последней версии

### Локальный скрипт не работает
1. Убедитесь, что скрипт исполняемый: `chmod +x scripts/check.sh`
2. Запускайте из корня проекта
3. Проверьте, что Go установлен и доступен в PATH

## Структура файлов

```
.github/
├── workflows/
│   ├── go-tests.yml      # Основной workflow для тестов
│   └── go-lint.yml       # Workflow для линтинга
├── README.md              # Этот файл
└── scripts/
    └── check.sh          # Скрипт локальных проверок
```
